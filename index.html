<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>.lang é€†å¼•ãç½®æ›ãƒ„ãƒ¼ãƒ«</title>
  <style>
    body {
      background: #121212; color: #eee;
      font-family: sans-serif; padding: 20px;
    }
    textarea {
      width: 100%; height: 180px;
      margin: 10px 0; padding: 10px;
      background: #1e1e1e; color: #eee;
      border: 1px solid #444; font-family: monospace;
    }
    button {
      font-size: 1.1em; padding: 10px 20px; margin-top: 10px;
    }
    .container { display: flex; flex-direction: column; gap: 20px; }
  </style>
</head>
<body>

<h1>.lang é€†å¼•ãç½®æ›ãƒ„ãƒ¼ãƒ«</h1>
<p>
  .langãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ï¼ˆ<code>a=b</code> å½¢å¼ï¼‰ã‚’ã‚³ãƒ”ãƒšã—ã¦ã€ç¿»è¨³æ¸ˆã¿ã®ãƒ†ã‚­ã‚¹ãƒˆå†…ã® <code>"b"</code> ã‚’ <code>"a"</code> ã«ç½®æ›ã—ã¾ã™ã€‚
</p>

<div class="container">
  <div>
    <label for="rules">ğŸ”§ .langå†…å®¹ï¼ˆä¾‹ï¼š<code>a=b</code>ï¼‰â€» è¤‡æ•°è¡Œå¯¾å¿œ</label>
    <textarea id="rules" placeholder="a=b&#10;c=ã“ã‚“ã«ã¡ã¯&#10;d=ä»Šå¾Œã€ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ãªã„"></textarea>
  </div>

  <div>
    <label for="input">ğŸ“„ å¤‰æ›å¯¾è±¡ãƒ†ã‚­ã‚¹ãƒˆå…¨ä½“</label>
    <textarea id="input" placeholder='{"text": "ã“ã‚“ã«ã¡ã¯", "next": "ä»Šå¾Œã€ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ãªã„"}'></textarea>
  </div>

  <button onclick="applyReplace()">â–¶ ä¸€æ‹¬ç½®æ›ã‚’å®Ÿè¡Œ</button>

  <div>
    <label for="output">ğŸ“ å¤‰æ›å¾Œã®ãƒ†ã‚­ã‚¹ãƒˆ</label>
    <textarea id="output" readonly></textarea>
  </div>
</div>

<script>
function applyReplace() {
  const ruleText = document.getElementById("rules").value.trim();
  const inputText = document.getElementById("input").value;
  let outputText = inputText;

  const rules = ruleText.split(/\r?\n/).filter(l => l.includes('='));

  for (let line of rules) {
    const [key, value] = line.split('=');
    if (key && value) {
      const escapedValue = value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      const regex = new RegExp('"' + escapedValue + '"', 'g');
      outputText = outputText.replace(regex, `"${key}"`);
    }
  }

  document.getElementById("output").value = outputText;
}
</script>

</body>
</html>
